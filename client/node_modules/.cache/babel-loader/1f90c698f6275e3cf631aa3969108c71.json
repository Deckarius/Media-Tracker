{"ast":null,"code":"import _slicedToArray from \"/Users/fabian/Documents/GitHub/PentaTech/Media-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/fabian/Documents/GitHub/PentaTech/Media-Tracker/client/src/pages/Settings.js\";\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport Layout from '../components/Layout';\nimport { Modal, Button, Badge, ToggleButtonGroup, ToggleButton } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst Settings = props => {\n  const _useState = useState({\n    data: {}\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        details = _useState2[0],\n        setDetails = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        show = _useState4[0],\n        setShow = _useState4[1];\n\n  const _useState5 = useState(\"tZXYBtb.png\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        avatar = _useState6[0],\n        setAvatar = _useState6[1];\n\n  useEffect(() => {\n    fetch(\"/api/getUserDetails\", {\n      credentials: 'include'\n    }).then(res => {\n      if (res.status === 200) {\n        return res.json();\n      }\n    }).then(data => {\n      setDetails({\n        data: data\n      });\n      setAvatar(data.avatar.replace(\"https://i.imgur.com/\", \"\"));\n    }).catch(err => {\n      console.error(err);\n      alert('Error checking for valid token.');\n    });\n  }, []);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const handleSave = async () => {\n    fetch(\"/api/settings?avatarURL=\" + avatar, {\n      credentials: 'include'\n    }).then(res => {\n      if (res.status === 200) {\n        setShow(false);\n        setDetails({\n          data: {\n            username: details.data.username,\n            email: details.data.email,\n            avatar: \"https://i.imgur.com/\" + avatar\n          }\n        });\n        alert(\"Successfully changed avatar!\");\n      }\n    }).catch(err => {\n      console.error(err);\n      alert('Error checking for valid token.');\n    });\n  };\n\n  const handleChange = value => {\n    setAvatar(value);\n  };\n\n  return React.createElement(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    style: {\n      borderBottom: '1px solid black'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Settings\"), React.createElement(\"div\", {\n    className: \"d-flex flex-column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Change avatar\")), React.createElement(\"div\", {\n    className: \"d-flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(Button, {\n    style: mainBtnStyle,\n    size: \"sm\",\n    variant: \"primary\",\n    onClick: handleShow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    style: mainImageStyle,\n    src: details.data.avatar,\n    alt: \"avatar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(Badge, {\n    variant: \"light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Edit\")))), React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    centered: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(Modal.Header, {\n    closeButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(Modal.Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Change Avatar\")), React.createElement(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"d-flex flex-row flex-wrap justify-content-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(ToggleButtonGroup, {\n    as: \"div\",\n    type: \"radio\",\n    name: \"options\",\n    defaultValue: avatar,\n    onChange: handleChange,\n    className: \"d-flex flex-row flex-wrap justify-content-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(ToggleButton, {\n    variant: \"\",\n    value: \"tZXYBtb.png\",\n    style: btnStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    style: imageStyle,\n    src: \"https://i.imgur.com/tZXYBtb.png\",\n    alt: \"man\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  })), React.createElement(ToggleButton, {\n    variant: \"\",\n    value: \"jAD61vn.png\",\n    style: btnStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    style: imageStyle,\n    src: \"https://i.imgur.com/jAD61vn.png\",\n    alt: \"man\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  })), React.createElement(ToggleButton, {\n    variant: \"\",\n    value: \"d5pjXqZ.png\",\n    style: btnStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    style: imageStyle,\n    src: \"https://i.imgur.com/d5pjXqZ.png\",\n    alt: \"man\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })), React.createElement(ToggleButton, {\n    variant: \"\",\n    value: \"Rbim1ko.png\",\n    style: btnStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    style: imageStyle,\n    src: \"https://i.imgur.com/Rbim1ko.png\",\n    alt: \"woman\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  })), React.createElement(ToggleButton, {\n    variant: \"\",\n    value: \"gYtKCqo.png\",\n    style: btnStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    style: imageStyle,\n    src: \"https://i.imgur.com/gYtKCqo.png\",\n    alt: \"woman\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  })), React.createElement(ToggleButton, {\n    variant: \"\",\n    value: \"JnpM1lB.png\",\n    style: btnStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    style: imageStyle,\n    src: \"https://i.imgur.com/JnpM1lB.png\",\n    alt: \"woman\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  })), React.createElement(ToggleButton, {\n    variant: \"\",\n    value: \"LQLByr5.png\",\n    style: btnStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    style: imageStyle,\n    src: \"https://i.imgur.com/LQLByr5.png\",\n    alt: \"man\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  })), React.createElement(ToggleButton, {\n    variant: \"\",\n    value: \"0qssL8F.png\",\n    style: btnStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    style: imageStyle,\n    src: \"https://i.imgur.com/0qssL8F.png\",\n    alt: \"man\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })), React.createElement(ToggleButton, {\n    variant: \"\",\n    value: \"nY6scNj.png\",\n    style: btnStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    style: imageStyle,\n    src: \"https://i.imgur.com/nY6scNj.png\",\n    alt: \"man\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  })), React.createElement(ToggleButton, {\n    variant: \"\",\n    value: \"Ytoq2qT.png\",\n    style: btnStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    style: imageStyle,\n    src: \"https://i.imgur.com/Ytoq2qT.png\",\n    alt: \"woman\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), React.createElement(ToggleButton, {\n    variant: \"\",\n    value: \"EQSoEus.png\",\n    style: btnStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    style: imageStyle,\n    src: \"https://i.imgur.com/EQSoEus.png\",\n    alt: \"woman\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })), React.createElement(ToggleButton, {\n    variant: \"\",\n    value: \"i2Aez2p.png\",\n    style: btnStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    style: imageStyle,\n    src: \"https://i.imgur.com/i2Aez2p.png\",\n    alt: \"woman\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }))))), React.createElement(Modal.Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(Button, {\n    size: \"sm\",\n    variant: \"outline-primary\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Cancel\"), React.createElement(Button, {\n    size: \"sm\",\n    variant: \"primary\",\n    onClick: handleSave,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Update\"))));\n};\n\nconst mainImageStyle = {\n  width: 75,\n  height: 75,\n  marginBottom: -15,\n  padding: 0\n};\nconst imageStyle = {\n  width: 75,\n  height: 75,\n  padding: 0\n};\nconst mainBtnStyle = {\n  maxWidth: 75,\n  maxHeight: 75,\n  padding: 0,\n  borderRadius: 50,\n  margin: 5\n};\nconst btnStyle = {\n  maxWidth: 75,\n  maxHeight: 75,\n  padding: 0,\n  borderRadius: 50,\n  margin: 5\n};\nexport default Settings;","map":{"version":3,"sources":["/Users/fabian/Documents/GitHub/PentaTech/Media-Tracker/client/src/pages/Settings.js"],"names":["React","useState","useEffect","Layout","Modal","Button","Badge","ToggleButtonGroup","ToggleButton","Settings","props","data","details","setDetails","show","setShow","avatar","setAvatar","fetch","credentials","then","res","status","json","replace","catch","err","console","error","alert","handleClose","handleShow","handleSave","username","email","handleChange","value","borderBottom","mainBtnStyle","mainImageStyle","btnStyle","imageStyle","width","height","marginBottom","padding","maxWidth","maxHeight","borderRadius","margin"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport Layout from '../components/Layout';\nimport { Modal, Button, Badge, ToggleButtonGroup, ToggleButton } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nconst Settings = props => {\n    const [details, setDetails] = useState({ data: {} });\n    const [show, setShow] = useState(false);\n    const [avatar, setAvatar] = useState(\"tZXYBtb.png\");\n\n    useEffect(() => {\n        fetch(\"/api/getUserDetails\", { credentials: 'include' })\n            .then(res => {\n                if (res.status === 200) {\n                    return res.json();\n                }\n            }).then(data => {\n                setDetails({ data: data });\n                setAvatar(data.avatar.replace(\"https://i.imgur.com/\", \"\"));\n            })\n            .catch(err => {\n                console.error(err);\n                alert('Error checking for valid token.');\n            });\n    }, []);\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n    const handleSave = async () => {\n        fetch(\"/api/settings?avatarURL=\" + avatar, { credentials: 'include' })\n            .then(res => {\n                if (res.status === 200) {\n                    setShow(false);\n                    setDetails({ data: { username: details.data.username, email: details.data.email, avatar: \"https://i.imgur.com/\" + avatar } });\n                    alert(\"Successfully changed avatar!\");\n                }\n            })\n            .catch(err => {\n                console.error(err);\n                alert('Error checking for valid token.');\n            }\n            );\n    };\n    const handleChange = value => {\n        setAvatar(value);\n    };\n\n    return (\n        <Layout>\n            <h1 style={{ borderBottom: '1px solid black' }}>Settings</h1>\n            <div className=\"d-flex flex-column\">\n                <h4><strong>Change avatar</strong></h4>\n                <div className=\"d-flex\">\n                    <Button style={mainBtnStyle} size=\"sm\" variant=\"primary\" onClick={handleShow}>\n                        <img style={mainImageStyle} src={details.data.avatar} alt=\"avatar\" />\n                        <Badge variant=\"light\">Edit</Badge>\n                    </Button>\n                </div>\n            </div>\n\n            <Modal show={show} onHide={handleClose} centered>\n                <Modal.Header closeButton>\n                    <Modal.Title>Change Avatar</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <div className=\"d-flex flex-row flex-wrap justify-content-center\">\n                        <ToggleButtonGroup as=\"div\" type=\"radio\" name=\"options\" defaultValue={avatar} onChange={handleChange} className=\"d-flex flex-row flex-wrap justify-content-center\">\n                            <ToggleButton variant=\"\" value=\"tZXYBtb.png\" style={btnStyle}><img style={imageStyle} src=\"https://i.imgur.com/tZXYBtb.png\" alt=\"man\" /></ToggleButton>\n                            <ToggleButton variant=\"\" value=\"jAD61vn.png\" style={btnStyle}><img style={imageStyle} src=\"https://i.imgur.com/jAD61vn.png\" alt=\"man\" /></ToggleButton>\n                            <ToggleButton variant=\"\" value=\"d5pjXqZ.png\" style={btnStyle}><img style={imageStyle} src=\"https://i.imgur.com/d5pjXqZ.png\" alt=\"man\" /></ToggleButton>\n\n                            <ToggleButton variant=\"\" value=\"Rbim1ko.png\" style={btnStyle}><img style={imageStyle} src=\"https://i.imgur.com/Rbim1ko.png\" alt=\"woman\" /></ToggleButton>\n                            <ToggleButton variant=\"\" value=\"gYtKCqo.png\" style={btnStyle}><img style={imageStyle} src=\"https://i.imgur.com/gYtKCqo.png\" alt=\"woman\" /></ToggleButton>\n                            <ToggleButton variant=\"\" value=\"JnpM1lB.png\" style={btnStyle}><img style={imageStyle} src=\"https://i.imgur.com/JnpM1lB.png\" alt=\"woman\" /></ToggleButton>\n\n\n                            <ToggleButton variant=\"\" value=\"LQLByr5.png\" style={btnStyle}><img style={imageStyle} src=\"https://i.imgur.com/LQLByr5.png\" alt=\"man\" /></ToggleButton>\n                            <ToggleButton variant=\"\" value=\"0qssL8F.png\" style={btnStyle}><img style={imageStyle} src=\"https://i.imgur.com/0qssL8F.png\" alt=\"man\" /></ToggleButton>\n                            <ToggleButton variant=\"\" value=\"nY6scNj.png\" style={btnStyle}><img style={imageStyle} src=\"https://i.imgur.com/nY6scNj.png\" alt=\"man\" /></ToggleButton>\n\n\n                            <ToggleButton variant=\"\" value=\"Ytoq2qT.png\" style={btnStyle}><img style={imageStyle} src=\"https://i.imgur.com/Ytoq2qT.png\" alt=\"woman\" /></ToggleButton>\n                            <ToggleButton variant=\"\" value=\"EQSoEus.png\" style={btnStyle}><img style={imageStyle} src=\"https://i.imgur.com/EQSoEus.png\" alt=\"woman\" /></ToggleButton>\n                            <ToggleButton variant=\"\" value=\"i2Aez2p.png\" style={btnStyle}><img style={imageStyle} src=\"https://i.imgur.com/i2Aez2p.png\" alt=\"woman\" /></ToggleButton>\n                        </ToggleButtonGroup>\n                    </div>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button size=\"sm\" variant=\"outline-primary\" onClick={handleClose}>\n                        Cancel\n                    </Button>\n                    <Button size=\"sm\" variant=\"primary\" onClick={handleSave}>\n                        Update\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </Layout>\n    );\n};\n\nconst mainImageStyle = {\n    width: 75,\n    height: 75,\n    marginBottom: -15,\n    padding: 0\n};\n\nconst imageStyle = {\n    width: 75,\n    height: 75,\n    padding: 0\n};\n\nconst mainBtnStyle = {\n    maxWidth: 75,\n    maxHeight: 75,\n    padding: 0,\n    borderRadius: 50,\n    margin: 5\n};\n\nconst btnStyle = {\n    maxWidth: 75,\n    maxHeight: 75,\n    padding: 0,\n    borderRadius: 50,\n    margin: 5\n};\n\nexport default Settings;"]},"metadata":{},"sourceType":"module"}