{"ast":null,"code":"import _slicedToArray from \"/Users/miguel/Documents/Github/Media-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/miguel/Documents/Github/Media-Tracker/client/src/components/Header.js\";\n\n/**\n * Header\n * @summary This component defines our site header (nav bar).\n * Contains site branding, page links, and a search bar.\n */\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport SearchBar from './SearchBar';\nimport { Navbar, Nav, NavDropdown, Button } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport mediaTrackerLogo from '../assets/app_logo_circle_small.png';\n\nconst Header = props => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        loggedIn = _useState2[0],\n        setLoggedIn = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        username = _useState4[0],\n        setUsername = _useState4[1]; // if logged in redirect to profile\n\n\n  fetch(\"/api/getUserDetails\", {\n    credentials: 'include'\n  }).then(res => {\n    if (res.status === 200) {\n      setLoggedIn(true);\n      return res.json();\n    }\n  }).then(data => {\n    setUsername(data.username);\n  }).catch(err => {// user not logged in, or error\n  });\n\n  const handleLogout = event => {\n    event.preventDefault();\n    fetch(\"/api/logout\", {\n      credentials: 'include'\n    }).then(res => {\n      if (res.status === 200) {\n        props.history.push('/login');\n      } else {\n        const error = new Error(res.error);\n        throw error;\n      }\n    }).catch(err => {\n      console.error(err);\n      alert('Error logging out. Please try again.');\n    });\n  };\n\n  return React.createElement(Navbar, {\n    bg: \"primary\",\n    expand: \"lg\",\n    sticky: \"top\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Navbar.Brand, {\n    href: \"/\",\n    style: brandStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: mediaTrackerLogo,\n    alt: \"media tracker logo\",\n    style: logoStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })), React.createElement(Navbar.Brand, {\n    href: \"#/\",\n    style: brandStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Media Tracker\"), React.createElement(Navbar.Toggle, {\n    \"aria-controls\": \"basic-navbar-nav\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(Navbar.Collapse, {\n    id: \"basic-navbar-nav\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    className: \"mr-auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Nav.Link, {\n    href: \"#/\",\n    style: linkStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Home\"), React.createElement(Nav.Link, {\n    href: \"#/about\",\n    style: linkStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"About\"), React.createElement(Nav.Link, {\n    href: \"#/search\",\n    style: linkStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Search\")), React.createElement(SearchBar, {\n    className: \"mr-sm-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), !loggedIn ? React.createElement(Nav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(Nav.Link, {\n    href: \"#/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(Button, {\n    style: linkStyleLogin,\n    size: \"sm\",\n    variant: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Login\")), React.createElement(Nav.Link, {\n    href: \"#/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(Button, {\n    style: linkStyleLogin,\n    size: \"sm\",\n    variant: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Register\"))) : React.createElement(NavDropdown, {\n    style: navDropdownStyle,\n    title: username,\n    id: \"basic-nav-dropdown\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(NavDropdown.Item, {\n    href: \"#/profile/\" + username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Profile\"), React.createElement(NavDropdown.Item, {\n    href: \"#/settings\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Settings\"), React.createElement(NavDropdown.Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), React.createElement(NavDropdown.Item, {\n    href: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: handleLogout,\n    style: {\n      boxShadow: 'none',\n      margin: 0,\n      padding: 0\n    },\n    size: \"sm\",\n    variant: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Logout\")))));\n};\n\nconst brandStyle = {\n  color: 'whitesmoke',\n  fontWeight: 'bold'\n};\nconst linkStyle = {\n  marginRight: 15,\n  color: 'whitesmoke'\n};\nconst linkStyleLogin = {\n  border: \"1px solid whitesmoke\",\n  borderRadius: 5,\n  backgroundColor: 'whitesmoke',\n  color: '#4688F1',\n  fontWeight: 'bold',\n  marginRight: 0,\n  marginLeft: 0\n};\nconst logoStyle = {\n  width: 40,\n  height: 40\n};\nconst navDropdownStyle = {\n  padding: 0,\n  backgroundColor: 'whitesmoke',\n  borderRadius: 5,\n  maxWidth: 'fit-content'\n};\nexport default withRouter(Header);","map":{"version":3,"sources":["/Users/miguel/Documents/Github/Media-Tracker/client/src/components/Header.js"],"names":["React","useState","useEffect","withRouter","SearchBar","Navbar","Nav","NavDropdown","Button","mediaTrackerLogo","Header","props","loggedIn","setLoggedIn","username","setUsername","fetch","credentials","then","res","status","json","data","catch","err","handleLogout","event","preventDefault","history","push","error","Error","console","alert","brandStyle","logoStyle","linkStyle","linkStyleLogin","navDropdownStyle","boxShadow","margin","padding","color","fontWeight","marginRight","border","borderRadius","backgroundColor","marginLeft","width","height","maxWidth"],"mappings":"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","sourcesContent":["/**\n * Header\n * @summary This component defines our site header (nav bar).\n * Contains site branding, page links, and a search bar.\n */\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport SearchBar from './SearchBar';\nimport { Navbar, Nav, NavDropdown, Button } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport mediaTrackerLogo from '../assets/app_logo_circle_small.png';\n\n\nconst Header = props => {\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [username, setUsername] = useState(\"\");\n\n    // if logged in redirect to profile\n    fetch(\"/api/getUserDetails\", { credentials: 'include' })\n        .then(res => {\n            if (res.status === 200) {\n                setLoggedIn(true);\n                return res.json();\n            }\n        }).then(data => {\n            setUsername(data.username);\n        })\n        .catch(err => {\n            // user not logged in, or error\n        });\n\n    const handleLogout = event => {\n        event.preventDefault();\n        fetch(\"/api/logout\"\n            , { credentials: 'include' })\n            .then(res => {\n                if (res.status === 200) {\n                    props.history.push('/login');\n                } else {\n                    const error = new Error(res.error);\n                    throw error;\n                }\n            })\n            .catch(err => {\n                console.error(err);\n                alert('Error logging out. Please try again.');\n            });\n    }\n\n    return (\n        <Navbar bg=\"primary\" expand=\"lg\" sticky=\"top\">\n            <Navbar.Brand href=\"/\" style={brandStyle}>\n                <img src={mediaTrackerLogo} alt=\"media tracker logo\" style={logoStyle} />\n            </Navbar.Brand>\n            <Navbar.Brand href=\"#/\" style={brandStyle}>Media Tracker</Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n                <Nav className=\"mr-auto\">\n                    <Nav.Link href=\"#/\" style={linkStyle}>Home</Nav.Link>\n                    <Nav.Link href=\"#/about\" style={linkStyle}>About</Nav.Link>\n                    <Nav.Link href=\"#/search\" style={linkStyle}>Search</Nav.Link>\n                </Nav>\n                <SearchBar className=\"mr-sm-2\" />\n                {\n                    !loggedIn ?\n                        (\n                            <Nav>\n                                <Nav.Link href=\"#/login\"><Button style={linkStyleLogin} size=\"sm\" variant=\"none\">Login</Button></Nav.Link>\n                                <Nav.Link href=\"#/register\"><Button style={linkStyleLogin} size=\"sm\" variant=\"none\">Register</Button></Nav.Link>\n                            </Nav>\n                        )\n                        :\n                        <NavDropdown style={navDropdownStyle} title={username} id=\"basic-nav-dropdown\">\n                            <NavDropdown.Item href={\"#/profile/\" + username}>Profile</NavDropdown.Item>\n                            <NavDropdown.Item href=\"#/settings\">Settings</NavDropdown.Item>\n                            <NavDropdown.Divider />\n                            <NavDropdown.Item href=\"\"><Button onClick={handleLogout} style={{ boxShadow: 'none', margin: 0, padding: 0 }} size=\"sm\" variant=\"none\">Logout</Button></NavDropdown.Item>\n                        </NavDropdown>\n                }\n            </Navbar.Collapse>\n        </Navbar>\n    );\n};\n\nconst brandStyle = {\n    color: 'whitesmoke',\n    fontWeight: 'bold'\n};\n\nconst linkStyle = {\n    marginRight: 15,\n    color: 'whitesmoke'\n};\n\nconst linkStyleLogin = {\n    border: \"1px solid whitesmoke\",\n    borderRadius: 5,\n    backgroundColor: 'whitesmoke',\n    color: '#4688F1',\n    fontWeight: 'bold',\n    marginRight: 0,\n    marginLeft: 0\n};\n\nconst logoStyle = {\n    width: 40,\n    height: 40\n};\n\nconst navDropdownStyle = {\n    padding: 0,\n    backgroundColor: 'whitesmoke',\n    borderRadius: 5,\n    maxWidth: 'fit-content',\n};\n\nexport default withRouter(Header);"]},"metadata":{},"sourceType":"module"}