{"ast":null,"code":"import _slicedToArray from \"/Users/miguel/Documents/Github/Media-Tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/miguel/Documents/Github/Media-Tracker/src/components/Header.js\";\n\n/**\n * Header\n * @summary This component defines our site header (nav bar).\n * Contains site branding, page links, and a search bar.\n */\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport SearchBar from './SearchBar';\nimport { Navbar, Nav, NavDropdown, Button } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport mediaTrackerLogo from '../assets/MediaTrackerLogoDark.png';\nconst brandStyle = {\n  color: 'whitesmoke',\n  fontWeight: 'bold'\n};\nconst linkStyle = {\n  marginRight: 15,\n  color: 'whitesmoke'\n};\nconst linkStyleLogin = {\n  border: \"1px solid whitesmoke\",\n  borderRadius: 5,\n  backgroundColor: 'whitesmoke',\n  color: '#4688F1',\n  fontWeight: 'bold',\n  marginRight: 0,\n  marginLeft: 0\n};\nconst logoStyle = {\n  width: 40,\n  height: 40\n};\nconst navDropdownStyle = {\n  padding: 0,\n  backgroundColor: 'whitesmoke',\n  borderRadius: 5,\n  maxWidth: 'fit-content'\n};\n\nconst Header = props => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        loggedIn = _useState2[0],\n        setLoggedIn = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        username = _useState4[0],\n        setUsername = _useState4[1];\n\n  useEffect(() => {\n    // if logged in redirect to profile\n    fetch(\"/api/getUserDetails\", {\n      credentials: 'include'\n    }).then(res => {\n      if (res.status === 200) {\n        setLoggedIn(true);\n        return res.json();\n      }\n    }).then(data => {\n      setUsername(data.username);\n    }).catch(err => {// user not logged in, or error\n    });\n  }, [loggedIn]);\n\n  const handleLogout = event => {\n    event.preventDefault();\n    fetch(\"/api/logout\", {\n      credentials: 'include'\n    }).then(res => {\n      if (res.status === 200) {\n        props.history.push('/login');\n      } else {\n        const error = new Error(res.error);\n        throw error;\n      }\n    }).catch(err => {\n      console.error(err);\n      alert('Error logging out. Please try again.');\n    });\n  };\n\n  return React.createElement(Navbar, {\n    bg: \"primary\",\n    expand: \"lg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Navbar.Brand, {\n    href: \"/\",\n    style: brandStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: mediaTrackerLogo,\n    alt: \"media tracker logo\",\n    style: logoStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  })), React.createElement(Navbar.Brand, {\n    href: \"/\",\n    style: brandStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Media Tracker\"), React.createElement(Navbar.Toggle, {\n    \"aria-controls\": \"basic-navbar-nav\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), React.createElement(Navbar.Collapse, {\n    id: \"basic-navbar-nav\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    className: \"mr-auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(Nav.Link, {\n    href: \"/\",\n    style: linkStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Home\"), React.createElement(Nav.Link, {\n    href: \"/about\",\n    style: linkStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"About\"), React.createElement(Nav.Link, {\n    href: \"/search\",\n    style: linkStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Search\")), React.createElement(SearchBar, {\n    className: \"mr-sm-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), !loggedIn ? React.createElement(Nav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(Nav.Link, {\n    href: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(Button, {\n    style: linkStyleLogin,\n    size: \"sm\",\n    variant: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Login\")), React.createElement(Nav.Link, {\n    href: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(Button, {\n    style: linkStyleLogin,\n    size: \"sm\",\n    variant: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"Register\"))) : React.createElement(NavDropdown, {\n    style: navDropdownStyle,\n    title: username,\n    id: \"basic-nav-dropdown\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(NavDropdown.Item, {\n    href: \"/profile/\" + username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Profile\"), React.createElement(NavDropdown.Item, {\n    href: \"/settings\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Settings\"), React.createElement(NavDropdown.Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), React.createElement(NavDropdown.Item, {\n    href: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: handleLogout,\n    style: {\n      boxShadow: 'none',\n      margin: 0,\n      padding: 0\n    },\n    size: \"sm\",\n    variant: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Logout\")))));\n};\n\nexport default withRouter(Header);","map":{"version":3,"sources":["/Users/miguel/Documents/Github/Media-Tracker/src/components/Header.js"],"names":["React","useState","useEffect","withRouter","SearchBar","Navbar","Nav","NavDropdown","Button","mediaTrackerLogo","brandStyle","color","fontWeight","linkStyle","marginRight","linkStyleLogin","border","borderRadius","backgroundColor","marginLeft","logoStyle","width","height","navDropdownStyle","padding","maxWidth","Header","props","loggedIn","setLoggedIn","username","setUsername","fetch","credentials","then","res","status","json","data","catch","err","handleLogout","event","preventDefault","history","push","error","Error","console","alert","boxShadow","margin"],"mappings":"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","sourcesContent":["/**\n * Header\n * @summary This component defines our site header (nav bar).\n * Contains site branding, page links, and a search bar.\n */\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport SearchBar from './SearchBar';\nimport { Navbar, Nav, NavDropdown, Button } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport mediaTrackerLogo from '../assets/MediaTrackerLogoDark.png';\n\n\nconst brandStyle = {\n    color: 'whitesmoke',\n    fontWeight: 'bold'\n};\n\nconst linkStyle = {\n    marginRight: 15,\n    color: 'whitesmoke'\n};\n\nconst linkStyleLogin = {\n    border: \"1px solid whitesmoke\",\n    borderRadius: 5,\n    backgroundColor: 'whitesmoke',\n    color: '#4688F1',\n    fontWeight: 'bold',\n    marginRight: 0,\n    marginLeft: 0\n};\n\nconst logoStyle = {\n    width: 40,\n    height: 40\n};\n\nconst navDropdownStyle = {\n    padding: 0,\n    backgroundColor: 'whitesmoke',\n    borderRadius: 5,\n    maxWidth: 'fit-content',\n};\n\nconst Header = props => {\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [username, setUsername] = useState(\"\");\n\n    useEffect(() => {\n        // if logged in redirect to profile\n        fetch(\"/api/getUserDetails\", { credentials: 'include' })\n            .then(res => {\n                if (res.status === 200) {\n                    setLoggedIn(true);\n                    return res.json();\n                }\n            }).then(data => {\n                setUsername(data.username);\n            })\n            .catch(err => {\n                // user not logged in, or error\n            });\n    }, [loggedIn]);\n\n    const handleLogout = event => {\n        event.preventDefault();\n        fetch(\"/api/logout\"\n            , { credentials: 'include' })\n            .then(res => {\n                if (res.status === 200) {\n                    props.history.push('/login');\n                } else {\n                    const error = new Error(res.error);\n                    throw error;\n                }\n            })\n            .catch(err => {\n                console.error(err);\n                alert('Error logging out. Please try again.');\n            });\n    }\n\n    return (\n        <Navbar bg=\"primary\" expand=\"lg\">\n            <Navbar.Brand href=\"/\" style={brandStyle}>\n                <img src={mediaTrackerLogo} alt=\"media tracker logo\" style={logoStyle} />\n            </Navbar.Brand>\n            <Navbar.Brand href=\"/\" style={brandStyle}>Media Tracker</Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n                <Nav className=\"mr-auto\">\n                    <Nav.Link href=\"/\" style={linkStyle}>Home</Nav.Link>\n                    <Nav.Link href=\"/about\" style={linkStyle}>About</Nav.Link>\n                    <Nav.Link href=\"/search\" style={linkStyle}>Search</Nav.Link>\n                </Nav>\n                <SearchBar className=\"mr-sm-2\" />\n                {\n                    !loggedIn ?\n                        (\n                            <Nav>\n                                <Nav.Link href=\"/login\"><Button style={linkStyleLogin} size=\"sm\" variant=\"none\">Login</Button></Nav.Link>\n                                <Nav.Link href=\"/register\"><Button style={linkStyleLogin} size=\"sm\" variant=\"none\">Register</Button></Nav.Link>\n                            </Nav>\n                        )\n                        :\n                        <NavDropdown style={navDropdownStyle} title={username} id=\"basic-nav-dropdown\">\n                            <NavDropdown.Item href={\"/profile/\" + username}>Profile</NavDropdown.Item>\n                            <NavDropdown.Item href=\"/settings\">Settings</NavDropdown.Item>\n                            <NavDropdown.Divider />\n                            <NavDropdown.Item href=\"\"><Button onClick={handleLogout} style={{ boxShadow: 'none', margin: 0, padding: 0 }} size=\"sm\" variant=\"none\">Logout</Button></NavDropdown.Item>\n                        </NavDropdown>\n\n                }\n            </Navbar.Collapse>\n        </Navbar>\n    );\n};\n\nexport default withRouter(Header);"]},"metadata":{},"sourceType":"module"}